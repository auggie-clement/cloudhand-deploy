# --- Required ---
# Async SQLAlchemy URL
DATABASE_URL=postgresql+asyncpg://cloudhand:cloudhand@127.0.0.1:5432/cloudhand

# If you use GitHub OAuth for auth (recommended for browser UI)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# If you rely on `ch plan` (LLM plan generation)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-5.1

# Used for certbot registration when workloads have https=true
CERTBOT_EMAIL=you@example.com

# Optional: public domain name for the control-plane API endpoint.
# If set, deploy/scripts/setup_control_server.sh can auto-configure nginx + Let's Encrypt for it.
# Example: self-deploy.moshq.com
CLOUDHAND_API_DOMAIN=

# Optional: where uvicorn should bind (default: 127.0.0.1:8000).
# If you bind to 0.0.0.0, ensure your firewall restricts 8000/tcp or put nginx in front.
CLOUDHAND_API_BIND_HOST=127.0.0.1
CLOUDHAND_API_BIND_PORT=8000

# If deploying private GitHub repos, the remote server will need to clone.
# Cloudhand deployer can use this token if set.
GITHUB_TOKEN=

# Optional: set provider token here (you can also set it via /api/onboarding/provider)
HCLOUD_TOKEN=

# Optional: where to store locally-generated SSH keys (when OpenBao is not configured)
CLOUDHAND_KEYS_DIR=/var/lib/cloudhand/keys

# Workload-server nginx mode:
# - per-app (default): one nginx site per workload (domain -> workload)
# - combined: one nginx config for multiple workloads (path-based routing)
CLOUDHAND_NGINX_MODE=per-app

# Optional OpenBao (Vault) integration for secrets + SSH keys (if you want it)
# OPENBAO_ADDR=http://127.0.0.1:8200
# OPENBAO_TOKEN=
# OPENBAO_MOUNT=secret

# Optional: enable headless API-key auth (instead of GitHub OAuth cookie auth)
CLOUDHAND_API_KEY=
CLOUDHAND_API_USERNAME=api
CLOUDHAND_API_GITHUB_ID=cloudhand_api_key

# Optional: allowed browser origin(s) for the UI (comma-separated)
CLOUDHAND_FRONTEND_ORIGIN=http://localhost:3001
# CLOUDHAND_FRONTEND_ORIGINS=http://localhost:3001,https://ui.example.com
